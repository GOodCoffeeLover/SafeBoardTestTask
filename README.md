# Тестовое задание SafeBoard
 
## Задание
Задание состояло в том, чтобы написать скрипт, позволяющий очищать папки сборок по правилам:
* Удалить папку, если она принадлежит типу релизной (например, 4.0.0.16) или тестовой (например, 4.0.55555.16);
* Удалять файл, если он соответствует регулярному выражению;
* Удалять папку или файл, если он старше нескольких дней;
* Описывать конфигурацию правил очищения в yaml файле;
* Комбинировать правила очищения.

## Решение
Был написан скрипт на языке python.

 Пример конфигурационного файла:
```YAML
path: './assembles'
rules:
- type: dir
  assembly_type:  test
  older_in_days: 5
- type: dir
  assembly_type:  release
  older_in_days: 100
- type: file
  mask: "test/[^\\s]*.tar.gz"
  older_in_days: 3
```
* Обязательное поле `path` задаёт папку для очистки.
* Обязательное поле `rules` задаёт правила очистки папки и содержит список, которое содержит объекты, которые содержат:
  * Обязателньое поле `type`, определяющее цель правила. Если значние этого поля `"dir"`, то правило будет очищать папки сборок. Иначе значением этого поля может быть `"file"`, что значит, что будут удаляться файлы.
  * Поле `older_in_days` определяет возраст файлов или папок в днях, старше которого папки или файлы удаляются;
  * Специальное обязательное поле `assembly_type`, которое определяет тип папки сбоки, которое надо удалить;
  * Специальное обязателное поле `mask`, которое задаёт шаблон файла, который надо удалить.


# TODO
Что можно улушить или добавить:
* увеличить функционал правил;
* добавить жёсткую валидацию конфигурационного файла. 
